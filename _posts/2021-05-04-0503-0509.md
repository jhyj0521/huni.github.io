---
title: "0503-0509"
tag: TIL
category: TIL
---
## 0503
# 게시물의 댓글 추가 기능



게시물에 대한 댓글을 추가하는 기능을 구현하였다.  
api를 적용하는 방법은 이전과 비슷했고, 사실상 css를 조정하고 레이아웃을 수정하는 데에 시간을 많이 할애하였다.  
Comment를 컴포넌트로 구분하여 PostContent 컴포넌트 안에 삽입하여 구현하는 방식을 사용하였다.

```vue
<template>
  <div class="content_comment">
    <div class="comment_header">
      <i class="far fa-comment-dots comment_img"></i>
      <span class="comment_title">댓글</span>
      <span class="comment_cnt">{{ boardInfo.commentCnt }}</span>
    </div>

    <div class="comment_input">
      <div class="comment_input_name">{{ memberName }}</div>
      <table class="content_mainTable02">
        <colgroup>
          <col />
          <col style="width: 10%;" />
        </colgroup>
        <tr>
          <td>
            <textarea
              placeholder="댓글을 남겨보세요"
              class="comment_input_text"
              v-model="content"
            />
          </td>
          <td>
            <button class="btn_basic" @click="addCommentMethod">등록</button>
          </td>
        </tr>
      </table>
    </div>

    <div class="content_commentAfter">
      <table class="content_mainTable02">
        <colgroup>
          <col style="width: 10%;" />
          <col />
          <col style="width: 10%;" />
        </colgroup>
        <tr>
          <td><!--이미지--></td>
          <td><!--입력된 내용--></td>
          <td><button class="btn_basic">삭제</button></td>
        </tr>
      </table>
    </div>
  </div>
</template>

<script>
import { mapActions, mapState } from "vuex";

export default {
  data() {
    return {
      boardNo: this.$route.params.boardNo,
      content: ""
    };
  },
  computed: {
    ...mapState({
      boardInfo: state => state.board.boardInfo,
      memberName: state => state.member.memberName
    })
  },
  methods: {
    ...mapActions(["addComment"]),
    async addCommentMethod() {
      try {
        const param = {
          boardNo: this.boardNo,
          content: this.content
        };

        const result = await this.addComment(param);
        console.log(result);
      } catch (error) {
        console.log(error.response);
        alert(error.response.data.message);
      }
    }
  }
};
</script>

<style scoped src="../../assets/css/post/comment.css"></style>
```

* 라우터 변수로 받은 boardNo와 글 내용을 변수로 하여 댓글을 입력하는 기능을 구현하였다.

> 댓글 목록, 삭제기능과 글 수정 삭제 기능만 구현하면 모든 메인 기능이 완성된다.  
> 빠르게 마무리 하고, 세부 오류 사항들을 잡은 뒤 다음 프로젝트로 넘어가야겠다.
