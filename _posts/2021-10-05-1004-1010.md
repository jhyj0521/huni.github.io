---
title: "1004-1010"
tag: TIL
category: TIL
---

## 1004

# 61일 차

## 실습 TIL

### Code Structure

```javascript
const todos = [
  { id: 3, content: "HTML", completed: false },
  { id: 2, content: "CSS", completed: true },
  { id: 1, content: "Javascript", completed: false },
];

const render = (todos) =>
  todos
    .map(
      ({ id, content, completed }) => `
        <li id="${id}">
          <label><input type="checkbox" ${
            completed ? "checked" : ""
          }>${content}</label>
        </li>`
    )
    .join("");

console.log(render(todos));
```

위 코드의 문제점 - 응집도가 떨어진다.

개선 코드

```javascript
const Todos = {
  state: [
    { id: 3, content: "Javascript", completed: false },
    { id: 2, content: "CSS", completed: true },
    { id: 1, content: "HTML", completed: false },
  ],
  render() {
    return this.state
      .map(
        ({ id, content, completed }) => `
        <li id="${id}">
          <label><input type="checkbox" ${
            completed ? "checked" : ""
          }>${content}</label>
        </li>`
      )
      .join("");
  },
};
```

객체로 묶어서 응집도를 높였다. 하지만 상태를 은닉할 수 없다는 단점이 존재한다.

개선 코드

```javascript
const Todos = (() => {
  const todos = [
    { id: 3, content: "Javascript", completed: false },
    { id: 2, content: "CSS", completed: true },
    { id: 1, content: "HTML", completed: false },
  ];

  return {
    render() {
      return todos
        .map(
          ({ id, content, completed }) => `
        <li id="${id}">
          <label><input type="checkbox" ${
            completed ? "checked" : ""
          }>${content}</label>
        </li>`
        )
        .join("");
    },
  };
})();
```

즉시 실행 함수와 클로저를 사용하여 정보를 은닉하였고, this 사용을 억제하였다. 하지만 이 코드는 장황하다는 단점이 있다.

최종 코드

```javascript
const todos = [
  { id: 3, content: 'Javascript', completed: false },
  { id: 2, content: 'CSS', completed: true },
  { id: 1, content: 'HTML', completed: false },
];

const render = () => {
  return todos
    .map(
      ({ id, content, completed }) => `
    <li id="${id}">
      <label><input type="checkbox" ${completed ? 'checked' : ''}>${content}</label>
    </li>`
    )
    .join('');
},

const Todos = { render }

export default Todos;
```

- EMS 모듈 사용. 실무에서는 웹팩을 사용해서 모듈을 사용한다.
- 모듈도 함수만 export 하는 클로저를 이용한 방법이다.

### 정규 표현식 확인 사이트

[정규 표현식 확인 사이트](https://regexr.com/)
