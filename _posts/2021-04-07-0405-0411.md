---
title: "0405-0411"
tag: TIL
category: TIL
---
## 0405
# CORS 이슈

API 서버를 1차 완성시키고 프론트엔드 서버에서 API를 호출하여 제대로 콘솔에 나타내는지 테스트를 진행하였다.
그 결과 아래와 같은 오류가 발생하였다.

> Access to XMLHttpRequest at 'http://localhost:8080/boards/lists' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.


해석해보면 CORS 정책을 위반했기 때문에 발생하는 오류라는 것을 알 수 있다.

### CORS
* CORS는 Cross-Origin Resource Sharing의 줄임말로, 한국어로 직역하면 교차 출처 리소스 공유라고 해석할 수 있다.  
* 여기서 Origin은 protocol, host, port number을 합친 것을 의미한다.
* 결국 다른 출처로 리소스를 요청해서 사용하기 위해서는 CORS 정책을 지켜야만 했다.

## 해결책
전역적으로 적용하기 위해 WebConfig 클래스에 addCorsMappings 메소드를 오버라이딩 하여 설정하였다.

```java
@Override
public void addCorsMappings(CorsRegistry registry) {
    // 모든 uri에 대해 http://localhost:3000의 접근을 허용한다.
    registry.addMapping("/**")
            .allowedOrigins("http://localhost:3000");
}
```