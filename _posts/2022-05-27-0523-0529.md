---
title: "0523 - 0529"
tag: TIL
category: TIL
excerpt: ""
---

## 0524

# JS 복습 2

# 실행 컨텍스트

소스코드를 실행하는 데 필요한 환경을 제공하는 코드의 결과를 실제로 관리하는 영역

식별자를 등록하고 관리하는 스코프와 코드 실행 순서 관리를 구현한 내부 메커니즘으로, 모든 코드는 실행 컨텍스트를 통해 실행되고 관리된다.
식별자와 스코프는 실행 컨텍스트의 렉시컬 환경으로 관리하고, 코드 실행 순서는 실행 컨텍스트 스택으로 관리한다.

## 렉시컬 환경

렉시컬 환경은 식별자와 식별자에 바인딩된 값, 그리고 상위 스코프에 대한 참조를 기록하는 자료구조로 실행 컨텍스트를 구성하는 컴포넌트

## 실행 순서

1. 전역 객체 생성 - 빌트인 객체와 호스트 객체 포함
2. 전역 코드 평가
   1. 전역 실행 컨텍스트 생성
   2. 전역 렉시컬 환경 생성
      1. 전역 환경 레코드 생성 (객체 환경 레코드, 선언적 환경 레코드)
      2. this 바인딩
      3. 외부 렉시컬 환경에 대한 참조 결정
3. 전역 코드 실행

# 클로저란?

중첩 함수가 자유 변수를 참조하고 있고, 중첩 함수가 외부 함수보다 더 오래 유지되는 경우, 이 중첩 함수를 클로저라고 한다.

외부 함수를 즉시 실행함수로 만들어 한 번만 실행하고 내부에서 외부 함수의 변수를 참조하는 함수를 반환하면 그것이 클로저다.

## 클로저 활용

클로저는 상태를 안전하게 변경하고 유지하기 위해 사용한다.  
상태가 의도치 않게 변경되지 않도록 은닉하고 특정 함수에게만 상태 변경을 허용하여 상태를 안전하게 변경하고 유지하기 위해 사용한다.

# 클래스

## 클래스와 생성자 함수 차이점

1. 클래스를 new 연산자 없이 호출하면 에러가 발생한다.
2. 상속을 지원하는 extends와 super 키워드를 제공한다.
3. 클래스는 호이스팅이 발생하지 않는 것처럼 동작한다.
4. 클래스 내의 모든 코드에는 암묵적으로 strict mode가 지정되어 실행된다.
5. 클래스의 constructor, 프로토타입 메서드, 정적 메서드는 모두 프로퍼티 어트리뷰트 enumerable 값이 false이다.

## 상속 클래스의 인스턴스 생성 과정

1. 서브 클래스의 super 호출
2. 수퍼 클래스의 인스턴스 생성과 this 바인딩
3. 수퍼클래스의 인스턴스 초기화
4. 서브클래스의 constructor로의 복귀와 this 바인딩
5. 서브 클래스의 인스턴스 초기화
6. 인스턴스 반환

# ES6에서 생긴 문법

- let / const
- 화살표 함수, 클래스
- 디스트럭처링 할당, 스프레드 문법, rest 파라미터
- 프로미스
- 모듈 import / export

## 화살표 함수와 일반 함수의 차이

- 일반 함수는 constructor이지만 메서드와 화살표 함수는 non-constructor이다. 인스턴스를 생성할 수 없으므로 prototype 프로퍼티가 없고, 프로토타입도 생성하지 않는다.
- 중복된 매개변수 이름을 선언할 수 없다.
- 함수 자체의 this 바인딩을 갖지 않는다. 화살표 함수 내부에서 this를 참조하면 상위 스코프의 this를 그대로 참조한다.

# JS 배열

자료구조에서 말하는 배열은 동일한 크기의 메모리 공간이 빈틈없이 연속적으로 나열된 자료구조  
즉, 배열의 요소는 하나의 데이터 타입으로 통일되어 있으며 서로 연속적으로 인접해 있다. 이러한 배열을 밀집 배열이라고 한다.

JS의 배열은 요소를 위한 각각의 메모리 공간이 동일한 크기를 갖지 않아도 되며, 연속적으로 이어져 있지 않을 수도 있다. 배열의 요소가 연속적으로 이어져 있지 않은 배열을 희소 배열이라 한다. JS 배열은 일반적인 배열의 동작을 흉내 낸 특수한 객체다.

- 일반적 배열은 인덱스로 요소에 빠르게 접근할 수 있다. 하지만 특정 요소 검색, 삽입, 삭제 시 효율적이지 않다.
- JS 배열은 해시 테이블로 구현된 객체이므로 인덱스로 요소에 접근하는 경우 일반적인 배열보다 성능적인 면에서 느리다. 하지만 특정 요소 검색, 삽입, 삭제 시 빠른 성능을 기대할 수 있다.

-> 희소 배열을 문법적으로는 허용하지만, 사용하지 않는 것이 좋다. 배열에는 같은 타입의 요소를 연속적으로 위치시키는 것이 최선이다.

# 이터러블

## 이터레이션 프로토콜

순회 가능한 데이터 컬렉션을 만들기 위해 ECMAScript 사양에 정의하여 미리 약속한 규칙

- 이터러블 프로토콜
  - Symbol.iterator 메서드를 호출하면 이터레이터를 반환하는 객체를 이터러블이라고 한다. 이터러블은 for of문, 스프레드 문법, 배열 디스트럭처링 할당의 대상이 될 수 있다.
- 이터레이터 프로토콜
  - next 메서드를 소유하며 next 메서드를 호출하면 value와 done을 프로퍼티로 갖는 이터레이터 리절트 객체를 반환한다.

이터레이션 프로토콜은 데이터 소비자와 데이터 공급자를 연결하는 인터페이스 역할을 한다.

### 대표 빌트인 이터러블

- 배열
- 스트링
- Map
- Set
- DOM 컬렉션
